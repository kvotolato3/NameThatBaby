<%= render 'errors', {player: @player, user: @user} %>

<%= link_to 'Back', game_path(@game)%>

<h2>Edit player</h2>

<%= form_for @player do |f| %>
  <div class='form-field'>
    <%= f.label :name %>
    <input type="text" value='<%=@user.name%>' name="player[name]" id="player_name">
  </div>
  <div class='form-field'>
    <%= f.label :email %>
    <input type="text" value='<%=@user.email%>' name="player[email]" id="player_email">
  </div>
  <div class='form-field'>
    <%= f.label :role %>
    <%= f.select :role, choices = Player::ROLES %>
  </div>

  <% if @current_upload != nil %>
    <div class='player-photo'>
      <%= image_tag("https://s3.amazonaws.com/#{@current_upload[:aws_s3_bucket]}/#{@current_upload[:aws_s3_key]}") %>
    </div>
    <div class='photo-link'>
      <%= link_to 'Change photo', new_player_upload_path(@player) %>
    </div>
  <% else %>
    <div class='player-photo'>
      <%= image_tag("https://s3.amazonaws.com/kathleen-namethatbaby/photos/baby_icon_gray.png") %>
    </div>
    <div class='photo-link'>
      <%= link_to 'New photo', new_player_upload_path(@player) %>
    </div>
  <% end %>
  <%= f.submit %>
<% end %>

<%= link_to 'Delete', player_path(@player), method: :delete, class: 'delete-link', data: {confirm: 'Are you sure you wish to delete this player?'} %>

